###############################################################
## é…ç½®æ–‡ä»¶éœ€è¦æ”¾ç½®åœ¨ $HOME/.config/clash/*.yaml
## è¿™ä»½æ–‡ä»¶æ˜¯clashXçš„åŸºç¡€é…ç½®æ–‡ä»¶ï¼Œè¯·å°½é‡æ–°å»ºé…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚
## ï¼ï¼ï¼åªæœ‰è¿™ä»½æ–‡ä»¶çš„ç«¯å£è®¾ç½®ä¼šéšClashXå¯åŠ¨ç”Ÿæ•ˆ
## å¦‚æœæ‚¨ä¸çŸ¥é“å¦‚ä½•æ“ä½œï¼Œè¯·å‚é˜… å®˜æ–¹Githubæ–‡æ¡£ https://github.com/Dreamacro/clash/blob/dev/README.md
## é…ç½®æ–‡ä»¶è¯´æ˜ï¼šhttps://lancellc.gitbook.io/clash/clash-config-file/an-example-configuration-file
###############################################################
mixed-port: 7890
allow-lan: false
bind-address: '*'
mode: rule
log-level: info

# >>>>>>>>>>>>>>>>>>>>>> DNS
dns:
    enable: true
    listen: 0.0.0.0:53
    enhanced-mode: fake-ip
    nameserver:
        - 94.140.14.14      # æ‹¦æˆªå¹¿å‘Šã€è·Ÿè¸ªå’Œé’“é±¼
        - 117.50.11.11      # ONE-DNSæ‹¦æˆªç‰ˆ æ¶æ„ç½‘ç«™æ‹¦æˆªã€å¹¿å‘Šè¿‡æ»¤
        - 114.114.114.114   # 114DNS

# >>>>>>>>>>>>>>>>>>>>>> ä»£ç†èŠ‚ç‚¹
proxies:

# >>>>>>>>>>>>>>>>>>>>>> ä»£ç†èŠ‚ç‚¹æä¾›å•†
# https://cdn.jsdelivr.net/gh/anaer/Sub@main/clash.yaml
# https://raw.githubusercontent.com/ssrsub/ssr/master/Surge.conf
# https://raw.githubusercontent.com/ssrsub/ssr/master/Clash.yml
# https://raw.githubusercontent.com/alanbobs999/TopFreeProxies/master/sub/sub_merge_yaml.yml
# https://raw.githubusercontent.com/Leon406/SubCrawler/main/sub/sub.yml
# https://cdn.jsdelivr.net/gh/v2raydy/Clash@main/02-22u2.yaml
# https://raw.githubusercontent.com/visiti/clash-node/main/clash-node.yaml
proxy-providers:
  All:
    type: http
    path: ./proxy_providers/proxy_providers_anaersub.yaml
    # url: https://api.v1.mk/sub?target=clash&url=https%3A%2F%2Fraw.githubusercontent.com%2Falanbobs999%2FTopFreeProxies%2Fmaster%2Fsub%2Fsub_merge.txt&insert=false&config=https%3A%2F%2Fraw.githubusercontent.com%2FMeilieage%2Fwebcdn%2Fmain%2Frule%2FArea_Media_NoAuto.ini&emoji=true&list=false&udp=false&tfo=false&expand=true&scv=false&fdn=false&new_name=true
    url: https://api.v1.mk/sub?target=clash&url=https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2Fanaer%2FSub%40main%2Fclash.yaml%7Chttps%3A%2F%2Fraw.githubusercontent.com%2Fssrsub%2Fssr%2Fmaster%2FSurge.conf%7Chttps%3A%2F%2Fraw.githubusercontent.com%2Fssrsub%2Fssr%2Fmaster%2FClash.yml%7Chttps%3A%2F%2Fraw.githubusercontent.com%2Falanbobs999%2FTopFreeProxies%2Fmaster%2Fsub%2Fsub_merge_yaml.yml%7Chttps%3A%2F%2Fraw.githubusercontent.com%2FLeon406%2FSubCrawler%2Fmain%2Fsub%2Fsub.yml%7Chttps%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2Fv2raydy%2FClash%40main%2F02-22u2.yaml%7Chttps%3A%2F%2Fraw.githubusercontent.com%2Fvisiti%2Fclash-node%2Fmain%2Fclash-node.yaml%7Chttps%3A%2F%2Fraw.githubusercontent.com%2Fssrsub%2Fssr%2Fmaster%2FClash.yml%7Chttps%3A%2F%2Ffreemycloud.pw%2Fauth%2Fregister%3Fcode%3DYboa%7Chttps%3A%2F%2Fraw.githubusercontent.com%2Fssrsub%2Fssr%2Fmaster%2FSurge.conf%7Chttps%3A%2F%2Fraw.githubusercontent.com%2Fssrsub%2Fssr%2Fmaster%2Fssrsub%7Chttps%3A%2F%2Fraw.githubusercontent.com%2Fssrsub%2Fssr%2Fmaster%2Fv2ray%7Chttps%3A%2F%2Fraw.githubusercontent.com%2Fssrsub%2Fssr%2Fmaster%2Fss-sub
    interval: 3600
    health-check:
        enable: true
        url: http://www.apple.com/generate_204
        interval: 600
  ä¸­å›½èŠ‚ç‚¹:
    filter: ğŸ‡¨ğŸ‡³|ä¸­å›½|CN
    type: file
    path: ./proxy_providers/proxy_providers_anaersub.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
  æ¸¯å°èŠ‚ç‚¹:
    filter: ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong|å°|TW|Tai
    type: file
    path: ./proxy_providers/proxy_providers_anaersub.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
  æ—¥æœ¬èŠ‚ç‚¹:
    filter: ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|ä¸œäº¬|JP|äºš|æ–°åŠ å¡|éŸ©å›½|å·´
    type: file
    path: ./proxy_providers/proxy_providers_anaersub.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
  ç¾å›½èŠ‚ç‚¹:
    filter: ğŸ‡ºğŸ‡²|ç¾|è‹±|æ³•|ä¿„|å¾·|ä»˜è´¹|US|CA|DK|GB|é
    type: file
    path: ./proxy_providers/proxy_providers_anaersub.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204

# >>>>>>>>>>>>>>>>>>>>>> ä»£ç†ç»„ç­–ç•¥
proxy-groups:
  # ä»£ç†èŠ‚ç‚¹
  - name: ğŸ¤ğŸ»èŠ‚ç‚¹é€‰æ‹©
    type: select
    use:
      - All
    proxies:
      - ğŸ¤ğŸ»è‡ªåŠ¨
      - ğŸ¤ğŸ»è´Ÿè½½
  - name: ğŸ¤ğŸ»ä¸­å›½
    type: url-test
    use: 
        - ä¸­å›½èŠ‚ç‚¹
    url: http://www.gstatic.com/generate_204
    interval: 600
  - name: ğŸ¤ğŸ»è‡ªåŠ¨
    type: url-test
    use: 
        - æ¸¯å°èŠ‚ç‚¹
        - æ—¥æœ¬èŠ‚ç‚¹
        - ç¾å›½èŠ‚ç‚¹
    url: http://www.gstatic.com/generate_204
    interval: 300
  - name: ğŸ¤ğŸ»è´Ÿè½½
    type: fallback
    url: http://www.gstatic.com/generate_204
    interval: 300
    use: 
        - æ¸¯å°èŠ‚ç‚¹
        - æ—¥æœ¬èŠ‚ç‚¹
        - ç¾å›½èŠ‚ç‚¹

  # ä»£ç†è§„åˆ™ç»„
  - name: ğŸ—½å›½å¤–ç½‘ç«™
    type: select
    proxies:
      - ğŸ¤ğŸ»èŠ‚ç‚¹é€‰æ‹©
      - ğŸ¤ğŸ»ä¸­å›½
      - DIRECT

  - name: ğŸ‡¨ğŸ‡³å›½å†…ç½‘ç«™
    type: select
    proxies:
      - DIRECT
      - ğŸ¤ğŸ»ä¸­å›½
      - ğŸ¤ğŸ»èŠ‚ç‚¹é€‰æ‹©

  - name: ğŸª§AdBlock
    type: select
    proxies:
      - REJECT

  - name: ğŸŸæ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - DIRECT
      - ğŸ¤ğŸ»èŠ‚ç‚¹é€‰æ‹©

# >>>>>>>>>>>>>>>>>>>>>> è§„åˆ™æä¾›å•†
rule-providers:
  # https://ghproxy.com/https://raw.githubusercontent.com/  https://gh.oevery.me/https://raw.githubusercontent.com
  ########################## å›½å¤–
  YouTube:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml"
    path: ./ruleset/YouTube.yaml
    interval: 86400
  Microsoft:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml"
    path: ./ruleset/Microsoft.yaml
    interval: 86400
  PackageName:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/Infatuation-Fei/rule/main/Clash/Rule/Android_Package_Name_Proxy.yaml"
    path: ./ruleset/PackageName.yaml
    interval: 86400
  Global:
    type: http
    behavior: domain
    url: "https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/proxy.txt"
    path: ./ruleset/Global-Domain.yaml
    interval: 86400
  ########################## å›½å†…
  Apple:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.yaml"
    path: ./ruleset/Apple.yaml
    interval: 86400
  China:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/China/China.yaml"
    path: ./ruleset/China.yaml
    interval: 86400
  NetEaseMusic:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/NetEaseMusic/NetEaseMusic.yaml"
    path: ./ruleset/NetEaseMusic.yaml
    interval: 86400
  BiliBili:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml"
    path: ./ruleset/BiliBili.yaml
    interval: 86400
  Lan:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.yaml"
    path: ./ruleset/lan.yaml
    interval: 86400
  ########################## å¹¿å‘Š
  AdvertisingLite:
    type: http
    behavior: classical
    url: https://gh.oevery.me/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdvertisingLite/AdvertisingLite.yaml
    path: ./ruleset/AdvertisingLite.yaml
    interval: 86400
  Advertising-Domain:
    type: http
    behavior: domain
    url: https://gh.oevery.me/https://github.com/blackmatrix7/ios_rule_script/blob/master/rule/Clash/Advertising/Advertising_Domain.yaml
    path: ./ruleset/Advertising_Domain.yaml
    interval: 86400
  ZhihuAds:
    type: http
    behavior: classical
    url: https://gh.oevery.me/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ZhihuAds/ZhihuAds.yaml
    path: ./ruleset/ZhihuAds.yaml
    interval: 86400
  Privacy-Classical:
    type: http
    behavior: classical
    url: https://gh.oevery.me/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Privacy/Privacy_Classical.yaml
    path: ./ruleset/Privacy_Classical.yaml
    interval: 86400
  AdGuardSDNSFilter-Classical:
    type: http
    behavior: classical
    url: https://gh.oevery.me/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdGuardSDNSFilter/AdGuardSDNSFilter_Classical.yaml
    path: ./ruleset/AdGuardSDNSFilter_Classical.yaml
    interval: 86400
  LoyalsoldierReject:
    type: http
    behavior: domain
    url: https://gh.oevery.me/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/reject.txt
    path: ./ruleset/LoyalsoldierReject.yaml
    interval: 86400
  RuleDomain:
    type: http
    behavior: classical
    url: https://gh.oevery.me/https://raw.githubusercontent.com/zhousanfu/rules_script/master/Qx%26Loon/rules/clash/RuleDomain.yaml
    path: ./ruleset/RuleDomain.yaml
    interval: 86400
  RuleClass:
    type: http
    behavior: classical
    url: https://gh.oevery.me/https://raw.githubusercontent.com/zhousanfu/rules_script/master/Qx%26Loon/rules/clash/RuleClass.yaml
    path: ./ruleset/RuleClass.yaml
    interval: 86400

# >>>>>>>>>>>>>>>>>>>>>> è§„åˆ™
rules:
  # å¹¿å‘Š
  - DOMAIN,gateway.icloud.co,DIRECT
  - RULE-SET,AdvertisingLite,ğŸª§AdBlock
  - RULE-SET,Advertising-Domain,ğŸª§AdBlock
  - RULE-SET,ZhihuAds,ğŸª§AdBlock
  - RULE-SET,Privacy-Classical,ğŸª§AdBlock
  - RULE-SET,AdGuardSDNSFilter-Classical,ğŸª§AdBlock
  - RULE-SET,LoyalsoldierReject,ğŸª§AdBlock
  - RULE-SET,RuleDomain,ğŸª§AdBlock
  - RULE-SET,RuleClass,ğŸª§AdBlock
  # å›½å¤–
  - RULE-SET,YouTube,ğŸ—½å›½å¤–ç½‘ç«™
  - RULE-SET,Microsoft,ğŸ—½å›½å¤–ç½‘ç«™
  - RULE-SET,PackageName,ğŸ—½å›½å¤–ç½‘ç«™
  - RULE-SET,Global,ğŸ—½å›½å¤–ç½‘ç«™
  # å›½å†…
  - RULE-SET,Apple,ğŸ‡¨ğŸ‡³å›½å†…ç½‘ç«™
  - RULE-SET,NetEaseMusic,ğŸ‡¨ğŸ‡³å›½å†…ç½‘ç«™
  - RULE-SET,BiliBili,ğŸ‡¨ğŸ‡³å›½å†…ç½‘ç«™
  - RULE-SET,China,ğŸ‡¨ğŸ‡³å›½å†…ç½‘ç«™
  - RULE-SET,Lan,ğŸ‡¨ğŸ‡³å›½å†…ç½‘ç«™
  - GEOIP,CN,ğŸ‡¨ğŸ‡³å›½å†…ç½‘ç«™
  # å…¶å®ƒ
  - MATCH,ğŸŸæ¼ç½‘ä¹‹é±¼
